# CHEMON 견적관리시스템 변경 이력

모든 주요 변경사항이 이 파일에 기록됩니다.

## [1.2.0] - 2026-02-03

### 🎉 새로운 기능

#### 통합 견적서 코드 시스템
- **통합 견적서 번호 체계**: 모든 시험 유형(독성, 효력, 임상병리)에서 동일한 번호 형식 사용
  - 형식: `YY-UC-MM-NNNN` (예: 26-DL-01-0001)
  - YY: 연도 2자리, UC: 사용자 코드, MM: 월, NNNN: 일련번호
- **리드 번호 개선**: 사용자 코드 기반 리드 번호 생성
  - 형식: `UC-YYYY-NNNN` (예: DL-2026-0001)
  - 기존 LD- 접두사 대신 사용자 설정 코드 사용
- **견적서 코드 중복 방지**: 사용자 간 코드 중복 검사
  - 대소문자 구분 없이 중복 체크
  - 실시간 중복 확인 피드백

#### 사용자 경험 개선
- **견적서 코드 가드**: 코드 미설정 시 견적서 작성 차단 및 안내
- **통합 미리보기**: 모든 시험 유형에서 일관된 견적서 미리보기 레이아웃
- **실시간 코드 검증**: 설정 페이지에서 즉시 사용 가능 여부 확인

### 🔧 기술적 변경사항
- UserCodeValidator 서비스 추가
- LeadNumberService 서비스 추가
- QuotationNumberService 확장 (시험 유형 통합)
- UserSettings 스키마 업데이트 (unique 제약, nextLeadSeq 필드)
- UnifiedQuotationPreview 컴포넌트 추가
- QuotationCodeGuard 컴포넌트 추가

### ⚠️ 주의사항
- 견적서 작성 전 **설정 > 견적서 코드**에서 코드를 먼저 설정해야 합니다
- 기존에 생성된 견적서/리드 번호는 변경되지 않습니다
- 코드 변경 시 새로 생성되는 견적서/리드에만 적용됩니다

---

## [1.1.0] - 2026-01-30

### 새로운 기능
- 공지사항 댓글 기능 추가
- 임상병리 모듈 추가
- 성능 인덱스 최적화

---

## [1.0.0] - 2026-01-06

### 초기 릴리스
- 독성시험 견적서 관리
- 효력시험 견적서 관리
- 고객 관리 (CRM)
- 리드 파이프라인
- 대시보드 및 리포트
- 사용자 인증 및 권한 관리
